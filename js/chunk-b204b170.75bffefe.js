(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b204b170"],{"017e":function(i,t,e){},"455b":function(i,t,e){},"629f":function(i,t,e){},8029:function(i,t,e){},"8d5e":function(i,t,e){"use strict";e("017e")},a7ac:function(i,t,e){"use strict";var k=function(){var i=this,t=i._self._c;return t("div",{staticClass:"nav-bar"},[t("div",{staticClass:"left"},[i._t("left")],2),t("div",{staticClass:"center"},[i._t("center")],2),t("div",{staticClass:"right"},[i._t("right")],2)])},s=[],l={name:"NavBar"},n=l,r=(e("e53f"),e("2877")),a=Object(r["a"])(n,k,s,!1,null,"ec3c2c76",null);t["a"]=a.exports},a7b1:function(i,t,e){"use strict";e("fb72")},b3d7:function(i,t,e){"use strict";e.r(t);var k=function(){var i=this,t=i._self._c;return t("div",{attrs:{id:"home"}},[t("meta",{attrs:{"http-equiv":"Content-Security-Policy",content:"upgrade-insecure-requests"}}),t("nav-bar",{staticClass:"home-nav"},[t("div",{attrs:{slot:"center"},slot:"center"},[i._v("新闻")])]),t("tab-control",{directives:[{name:"show",rawName:"v-show",value:i.isTabFixed,expression:"isTabFixed"}],ref:"tabControl1",staticClass:"tab-control",attrs:{titles:["最新","时尚","娱乐"]},on:{tabClick:i.tabClick}}),t("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3,"pull-up-load":!0,"pull-down-refresh":!0},on:{scroll:i.contentScroll,pullingUp:i.loadmore,pullingDown:i.refresh}},[t("home-swiper",{attrs:{banners:i.banners},on:{swiperImageLoad:i.swiperImageLoad}}),t("home-recommend-view",{attrs:{recommends:i.recommends}}),t("tab-control",{ref:"tabControl2",attrs:{titles:["最新","时尚","娱乐"]},on:{tabClick:i.tabClick}}),t("news-list",{attrs:{news:i.news[i.currentType].list}}),t("ul",[t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")]),t("li",[i._v("kkk")])])],1),t("back-top",{directives:[{name:"show",rawName:"v-show",value:i.isShowTop,expression:"isShowTop"}],ref:"backtop",nativeOn:{click:function(t){return i.backClick.apply(null,arguments)}}})],1)},s=[],l=(e("14d9"),function(){var i=this,t=i._self._c;return t("div",[i.banners.length>1?t("swiper",{ref:"mySwiper",staticClass:"swiper-box",attrs:{options:i.swiperOption}},[i._l(i.banners,(function(e,k){return t("swiper-slide",{key:k},[t("a",{attrs:{href:e.link}},[t("img",{attrs:{src:e.image,alt:""},on:{load:i.imageLoad}})])])})),t("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):i._e()],1)}),n=[],r=e("2b0e"),a=e("7212"),o=e.n(a);e("455b");r["default"].use(o.a);var c={components:{swiper:o.a.swiper,swiperSlide:o.a.swiperSlide},props:{banners:{type:Array,default(){return[]}}},data(){return{swiperOption:{loop:!0,speed:100,notNextTick:!0,preloadImages:!1,pagination:{el:".swiper-pagination"},autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1},paginationClickable:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},isLoad:!1}},beforeCreate:function(){},created:function(){},computed:{swiper(){return this.$refs.mySwiper.swiper}},methods:{imageLoad(){this.isLoad||this.$emit("swiperImageLoad"),this.isLoad=!0}}},v=c,_=(e("8d5e"),e("2877")),u=Object(_["a"])(v,l,n,!1,null,"4fa979af",null),p=u.exports,d=function(){var i=this,t=i._self._c;return i.recommends.length>1?t("div",{staticClass:"recommend"},i._l(i.recommends,(function(e,k){return t("div",{key:k,staticClass:"recommed-item"},[t("a",{attrs:{href:e.link}},[t("img",{attrs:{src:e.image,alt:""}}),t("div",[i._v(i._s(e.title))])])])})),0):i._e()},h=[],f={name:"HomeRecommendView",props:{recommends:{type:Array,default(){return[]}}}},m=f,b=(e("a7b1"),Object(_["a"])(m,d,h,!1,null,"519b2eb4",null)),w=b.exports,g=e("a7ac"),C=function(){var i=this,t=i._self._c;return t("div",{staticClass:"tab-control"},i._l(i.titles,(function(e,k){return t("div",{key:k,staticClass:"tab-control-item",class:{active:k===i.currentIndex},on:{click:function(t){return i.itemClick(k)}}},[t("span",[i._v(i._s(e))])])})),0)},y=[],T={name:"TabControl",props:{titles:{type:Array,default(){return[]}}},data(){return{currentIndex:0}},methods:{itemClick(i){this.currentIndex=i,this.$emit("tabClick",i)}}},$=T,x=(e("e169"),Object(_["a"])($,C,y,!1,null,"b0c2be4e",null)),L=x.exports,O=e("73d3"),S=e("5d17"),I=e("fdd6"),H=e("735b"),j=e("90b9"),P={name:"Home",components:{HomeRecommendView:w,NavBar:g["a"],HomeSwiper:p,TabControl:L,NewsList:O["a"],Scroll:S["a"],BackTop:I["a"]},data(){return{banners:[],recommends:[],news:{top:{page:0,list:[]},shishang:{page:0,list:[]},yule:{page:0,list:[]}},currentType:"top",isShowTop:!0,tabOffsetTop:0,backtopPosition:0,load:!1,isTabFixed:!1,saveY:0,isLoading:!1}},created(){this.getHomeMultidata(),this.getHomenews("top")},mounted(){const i=Object(j["a"])(this.$refs.scroll.refresh,50);this.$bus.$on("itemimageLoad",()=>{i()})},activated(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},deactivated(){this.saveY=this.$refs.scroll.getScrollY()},methods:{tabClick(i){switch(i){case 0:this.currentType="top";break;case 1:this.currentType="shishang";break;case 2:this.currentType="yule";break}this.$refs.tabControl1.currentIndex=i,this.$refs.tabControl2.currentIndex=i},backClick(){this.$refs.scroll.scrollTo(0,0,500)},contentScroll(i){this.isShowTop=-i.y>1e3,this.isTabFixed=-i.y>this.tabOffsetTop},swiperImageLoad(){this.tabOffsetTop=this.$refs.tabControl2.$el.offsetTop},loadmore(){this.isLoading=!1,this.$refs.scroll.$emit("infinitescroll.reInit"),this.getHomenews(this.currentType)},refresh(){this.isLoading=!1,this.$refs.scroll.$emit("infinitescroll.downloading"),console.log("shuaxing"),this.news[this.currentType].page=0,this.news[this.currentType].list=[],this.getHomenews(this.currentType)},getHomeMultidata(){Object(H["a"])().then(i=>{this.banners=i.data.data.banner.list,this.recommends=i.data.data.recommend.list})},getHomenews(i){const t=this.news[i].page+1;Object(H["b"])(i,t).then(t=>{this.news[i].list.push(...t.data.result.data),this.news[i].page+=1,this.$refs.scroll.$emit("infinitescroll.reInit"),this.isLoading=!0,this.finishPullUp(),this.finishPullDown()})},finishPullUp(){this.$refs.scroll.$emit("infinitescroll.loadedDone"),this.$refs.scroll.finishPullUp()},finishPullDown(){this.$refs.scroll.$emit("infinitescroll.downover"),this.$refs.scroll.finishPullDown()}}},N=P,D=(e("c982"),Object(_["a"])(N,k,s,!1,null,"367b1412",null));t["default"]=D.exports},bc35:function(i,t,e){},c982:function(i,t,e){"use strict";e("8029")},e169:function(i,t,e){"use strict";e("629f")},e53f:function(i,t,e){"use strict";e("bc35")},fb72:function(i,t,e){}}]);
//# sourceMappingURL=chunk-b204b170.75bffefe.js.map